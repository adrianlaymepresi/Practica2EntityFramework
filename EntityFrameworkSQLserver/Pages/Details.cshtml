@page
@model EntityFrameworkSQLserver.Pages.DetailsModel

@{
    ViewData["Title"] = "Details";

    var estado = (Model.Tarea?.estadoTarea ?? "").ToLowerInvariant();
    var claseEstado = estado switch
    {
        "pendiente" => "badge bg-warning text-dark",
        "en curso" => "badge bg-info text-dark",
        "finalizado" => "badge bg-success text-dark",
        "cancelado" => "badge bg-danger text-dark",
        _ => "badge bg-secondary"
    };
}

<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="m-0 text-light">DETALLES DE LA TAREA</h2>
        <div class="d-flex gap-2">
            <a class="btn btn-sm btn-success" asp-page="./Edit" asp-route-id="@Model.Tarea.Id">✍️ Editar</a>
            <a class="btn btn-sm btn-outline-secondary" asp-page="./Index">↩️ Volver</a>
        </div>
    </div>

    <div class="card p-3" style="background:#0f1113; color:#f8f9fa; border:1px solid #2b2f33;">
        <div class="d-flex align-items-start justify-content-between flex-wrap gap-2 mb-3">
            <div>
                <div class="fs-5 fw-semibold">@Model.Tarea.nombreTarea</div>
                <div class="text-secondary small">ID: @Model.Tarea.Id</div>
            </div>
            <span class="@claseEstado align-self-center">@Model.Tarea.estadoTarea</span>
        </div>

        <div class="row g-3">
            <div class="col-12 col-md-6">
                <div class="border rounded p-3 h-100" style="border-color:#2b2f33 !important;">
                    <div class="text-secondary small">Fecha de vencimiento</div>
                    <div class="fw-medium">@Model.Tarea.fechaVencimientoTarea.ToString("yyyy-MM-dd")</div>
                </div>
            </div>
            <div class="col-12 col-md-6">
                <div class="border rounded p-3 h-100" style="border-color:#2b2f33 !important;">
                    <div class="text-secondary small">Usuario asignado</div>
                    <div class="fw-medium">@Model.Tarea.idUsuario</div>
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-center gap-2 mt-4">
            <a class="btn btn-outline-secondary" asp-page="./Index">Volver</a>
            <a class="btn btn-success" asp-page="./Edit" asp-route-id="@Model.Tarea.Id">✍️ Editar</a>
        </div>
    </div>
</div>
